<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sign Up - Our Website</title>
    <style>
	body {
  display: flex;
  justify-content: center;
  align-items: center;
  width: 100vw;
  height: 100vh;
  padding: 0;
  margin: 0;
  background-image: linear-gradient(to right top,  #6666ff 0%,  #e6e6ff 100%);
}


.card {
background-color: #ccccff;
  width: 750px;
  height: 630px;
  border-radius: 32px;
  box-shadow: 24px 24px 80px rgba(0,0,0,0.1);
  padding: 20px 20px 28px 20px;
  box-sizing: border-box;
  margin: 20px;
  display: flex;
  flex-direction: column;
  }
  .text{
  text-align: center;
  font-size: 41px;
  font-weight: 600;
  font-family: 'Poppins', sans-serif;
  background: -webkit-linear-gradient(right, #56d8e4, #9f01ea, #56d8e4, #9f01ea);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}

.banner-text {
	width: 100%;
	position: absolute;
	z-index: 1;
}
.banner-text ul {
	height: 50px;
	float: right;
}
.banner-text ul li {
	display: inline-block;
	padding: 40px 15px;
	text-transform: uppercase;
	color: #fff;
	font-size: 20px;
}
.banner-text ul li:hover {
	cursor: pointer;
}
.banner-text h2 {
	text-align: center;
	color: #fff;
	font-size: 50px;
	margin-top: 20%;
}

}
.box-area {
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	overflow: hidden;
}
.box-area li {
	position: absolute;
	display: block;
	list-style: none;
	width: 25px;
	height: 25px;
	background: rgba(255, 255, 255, 0.2);
	animation: animate 20s linear infinite;
	bottom: -150px;
}
.box-area li:nth-child(1) {
	left: 86%;
	width: 80px;
	height: 80px;
	animation-delay: 0s;
}
.box-area li:nth-child(2) {
	left: 12%;
	width: 30px;
	height: 30px;
	animation-delay: 1.5s;
	animation-duration: 10s;
}
.box-area li:nth-child(3) {
	left: 70%;
	width: 100px;
	height: 100px;
	animation-delay: 5.5s;
}
.box-area li:nth-child(4) {
	left: 42%;
	width: 150px;
	height: 150px;
	animation-delay: 0s;
	animation-duration: 15s;
}
.box-area li:nth-child(5) {
	left: 65%;
	width: 40px;
	height: 40px;
	animation-delay: 0s;
}
.box-area li:nth-child(6) {
	left: 15%;
	width: 110px;
	height: 110px;
	animation-delay: 3.5s;
}
@keyframes animate {
	0% {
		transform: translateY(0) rotate(0deg);
		opacity: 1;
	}
	100% {
		transform: translateY(-800px) rotate(360deg);
		opacity: 0;
	}
}

.error {
            color: red;
            margin-top: 5px;
        }
		
label {
            width: 150px;
            font-size: 16px;
            font-family: 'Poppins', sans-serif;
        }

input {
            flex: 1;
			width:500px;
            padding: 12px 15px;
            margin-left: 10px;
            border: 2px solid #ddd;
            border-radius: 10px;
            box-sizing: border-box;
            font-size: 16px;
            font-family: 'Poppins', sans-serif;
            transition: border-color 0.3s, box-shadow 0.3s;
        }
.check{
width:10px;}

button {
            background-color: #6666ff;
            color: white;
            padding: 12px 20px;
            margin: 10px;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-size: 16px;
            font-family: 'Poppins', sans-serif;
            transition: background-color 0.3s, box-shadow 0.3s;
        }
button:hover {
            background-color: #3333ff;
            box-shadow: 0 0 8px rgba(51, 51, 255, 0.6);
        }

tr td{
padding:7px;
}

	</style>
</head>
<body>
<div class="animation-area">
		<ul class="box-area">
			<li></li>
			<li></li>
			<li></li>
			<li></li>
			<li></li>
			<li></li>
		</ul>
	</div>
<div class="card">
    <form id="signupForm">
        
          <h1 class="text">Sign Up</h1>
          <p style="font-size:18px;">Please fill in this form to create an account.</p>
		  <table>
		  <tr>
          <td><label for="firstName"><b>First Name: </b></label></td>
          <td><input type="text" placeholder="Enter your first name" id="firstName" name="firstName" required></td>
		  <td><span id="firstNameError" class="error"></span><br><br></td>
		  </tr>
		  <tr>
          <td><label for="lastName"><b>Last Name: </b></label>&nbsp;</td>
          <td><input type="text" placeholder="Enter your last name" id="lastName" name="lastName" required></td>
		  <td><span id="lastNameError" class="error"></span><br><br></td>
		  </tr>
		  <tr>
          <td><label for="email"><b>Email:  </b></label></td>
          <td><input type="email" placeholder="Enter Email" id="email" name="email" required></td>
		  <td><span id="emailError" class="error"></span><br><br></td>
		  </tr>
		  <tr>
          <td><label for="password"><b>Password:</b></label></td>
          <td><input type="password" placeholder="Enter Password" id="password" name="password" required></td>
		  <td><span id="passwordError" class="error"></span><br><br></td>
		  </tr>
		  <tr>
          <td><label for="repeatPassword"><b>Repeat Password:</b></label></td>
          <td><input type="password" placeholder="Repeat Password" id="repeatPassword" name="repeatPassword" required></td>
		  <td><span id="repeatPasswordError" class="error"></span><br><br></td>
		  </tr>
		  </table>
          <label>
            <input type="checkbox" checked="checked" name="remember" style="margin-bottom:15px" class="check"> Remember me
          </label><br>
      
          <p>By creating an account you agree to our <a href="#" style="color:dodgerblue">Terms & Privacy</a>.</p>
      <center>
          <div class="clearfix">
            <button type="Reset" class="cancelbtn">Clear All</button>
            
			
			<button type="button" class="signupbtn" id="signUp">Sign Up</button>
          </div>
        </center>
      </form>
	  </div>
      <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.11.1/firebase-app.js";
        import { getDatabase,set,ref } from "https://www.gstatic.com/firebasejs/10.11.1/firebase-database.js";
        import { getAuth, createUserWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/10.11.1/firebase-auth.js";
        // TODO: Add SDKs for Firebase products that you want to use
        // https://firebase.google.com/docs/web/setup#available-libraries
      
        // Your web app's Firebase configuration
        const firebaseConfig = {
          apiKey: "AIzaSyCVN2v755NaxY5K17dmyKvyDn-qBlEL6Uk",
          authDomain: "authentication-beb73.firebaseapp.com",
          databaseURL: "https://authentication-beb73-default-rtdb.firebaseio.com",
          projectId: "authentication-beb73",
          storageBucket: "authentication-beb73.appspot.com",
          messagingSenderId: "226150110170",
          appId: "1:226150110170:web:dfd1cec8b79a636dcce6e3"
        };
      
        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const database= getDatabase(app);
        const auth = getAuth();

        function validateForm() {
            var firstName = document.getElementById("firstName").value;
            var lastName = document.getElementById("lastName").value;
            var email = document.getElementById("email").value;
            var password = document.getElementById("password").value;
            var repeatPassword = document.getElementById("repeatPassword").value;

            var firstNameError = document.getElementById("firstNameError");
            var lastNameError = document.getElementById("lastNameError");
            var emailError = document.getElementById("emailError");
            var passwordError = document.getElementById("passwordError");
            var repeatPasswordError = document.getElementById("repeatPasswordError");

            var isValid = true;

            // Reset error messages
            firstNameError.textContent = "";
            lastNameError.textContent = "";
            emailError.textContent = "";
            passwordError.textContent = "";
            repeatPasswordError.textContent = "";

            // First Name validation
            if (!firstName) {
                firstNameError.textContent = "First Name is required";
                isValid = false;
            }

            // Last Name validation
            if (!lastName) {
                lastNameError.textContent = "Last Name is required";
                isValid = false;
            }

            // Email validation
            if (!email) {
                emailError.textContent = "Email is required";
                isValid = false;
            } else if (!isValidEmail(email)) {
                emailError.textContent = "Invalid email format";
                isValid = false;
            }

            // Password validation
            if (!password) {
                passwordError.textContent = "Password is required";
                isValid = false;
            } else if (password.length < 6) {
                passwordError.textContent = "Password must be at least 6 characters long";
                isValid = false;
            }

            // Repeat Password validation
            if (!repeatPassword) {
                repeatPasswordError.textContent = "Repeat Password is required";
                isValid = false;
            } else if (repeatPassword !== password) {
                repeatPasswordError.textContent = "Passwords do not match";
                isValid = false;
            }
            return isValid;
        }

        function isValidEmail(email) {
            // Basic email format validation
            var emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return emailRegex.test(email);
        }


        document.getElementById("signUp").addEventListener('click', (e) => {
            e.preventDefault();
            
            if(validateForm()==true){
            
            var email = document.getElementById("email").value;
            var password = document.getElementById("password").value;
            var username = document.getElementById("firstName").value;
    
            createUserWithEmailAndPassword(auth, email, password)
            .then((userCredential) => {
                // Signed up 
                const user = userCredential.user;
                console.log("UID:", user.uid);
                console.log("Username:", username);
                console.log("Email:", email);
                set(ref(database,'users/'+ user.uid),{
                    username: username,
                    email: email
                })
                alert("User created successfully!");
                // Optionally, you can redirect the user to another page here
                var bufferTime=1000;
                setTimeout(function() {
                window.location.href ="index.html";
                },bufferTime);

            })
            .catch((error) => {
                const errorMessage = error.message;
                alert(errorMessage);
            });
            }
        });
</script>
</body>
</html>
